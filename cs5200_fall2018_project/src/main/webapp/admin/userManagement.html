<!DOCTYPE html>
<html>
<head>
	<title>User Management</title>

	<script type="text/javascript" src="http://libs.baidu.com/jquery/2.0.0/jquery.js"></script>

	<style type="text/css">
		html{
			background-image: url("../assets/jordan.jpeg");
			background-size: 100% 100%;
			background-repeat: no-repeat;
			background-attachment: fixed;
			text-align: center;
		}
		h1{
			color: white;
		}
		.user{
			height: 700px;
			width: 1000px;
			color: white;
			border: 1px solid white;
			margin: 0 auto;
		}
		.method{
			display: flex;
		}
		.updateMethod{		
			width: 300px;
		}
		.viewMethod{
			width: 700px;
		}
		.userTable{
			margin: 0 auto;
		}
		p{
			width: 100px;
			display: inline-block;
		}
	</style>
</head>

<body>
	<div>
		<h1>Admin</h1>
	</div>
	<div class="user">
		<h2>User Management</h2>
		<div class="method">
			<div class="updateMethod">
				<div>
					<div>
						<h5>Create and Update User</h5>
						<p>ID</p>
						<input type="text">
						<p>FirstName</p>
						<input type="text"><br>
						<p>LastName</p>
						<input type="text"><br>
						<p>Username</p>
						<input type="text"><br>
						<p>Password</p>
						<input type="text"><br>
						<p>Type</p>
						<input type="text">
						<button class="createUserBtn">Create User</button>
						<button class="updateUserBtn">Update User</button>
					</div>
					<div>
						<h5>Delete User</h5>
						<p>ID</p>
						<input type="text" class="id">
						<button class="deleteUserBtn">Delete User</button>
					</div>
				</div>
			</div>
			<div class="viewMethod">
				<h5>View Users</h5>
				<button class="viewUserBtn">View Users</button>
				<br>
				<br>
				<table class="userTable" border="1">
					<thead class="userTableHead"></thead>
				    <tbody class="userTableBody"></tbody>
				</table>
			</div>
		</div>
	</div>
	
</body>

<script type="text/javascript">

    $(".viewUserBtn").click(function(){
    	$.ajax({
            type: "GET",
            url: "http://localhost:8080/api/person/getAllPerson",
            dataType: "json",
            success: function (result) {
            	console.log(result)
                var data = result
                // table head
		    	var html = "";
		    	html += "<tr>"
		    	html +=     "<th>ID</th>"
		    	html +=     "<th>Dob</th>"
		    	html +=     "<th>Email</th>"
		    	html +=     "<th>FirstName</th>"
		    	html +=     "<th>LastName</th>"
		        html +=     "<th>Username</th>"
		        html +=     "<th>Password</th>"
		        html +=     "<th>Team</th>"
		        html +=     "<th>Type</th>"
		        html += "</tr>"
				$(".userTableHead").html(html)
				// table body
		        var html2 = "";
		        for( var i = 0; i < data.length; i++ ) {
		            html2 += "<tr>"
		            html2 +=     "<td>" + data[i].id + "</td>"
		            html2 +=     "<td>" + data[i].dob + "</td>"
		            html2 +=     "<td>" + data[i].email + "</td>"
		            html2 +=     "<td>" + data[i].firstname + "</td>"
		            html2 +=     "<td>" + data[i].lastname + "</td>"
		            html2 +=     "<td>" + data[i].username + "</td>"
		            html2 +=     "<td>" + data[i].password + "</td>"
		            html2 +=     "<td>Team if existed</td>"
		            html2 +=     "<td>" + data[i].type + "</td>"
		            html2 += "</tr>"
		        }
		        $(".userTableBody").html(html2)
            },
            error: function (e) {
                var test = e;
            }
        })
	})
</script>
</html>